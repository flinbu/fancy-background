function fancyBackground(c,n,h,m,b,d,f,a){var e=c.width(),l=n*h,g=$("<div>").attr("class","fancy-holder").css({width:"100%",height:"100%",position:"fixed",overflow:"hidden",left:0,top:0,zIndex:-1});if(f<20){f=20}function k(){if(!p){var q=h+(d),p=Math.floor(e/q)}c.find(".fancy-holder").find("div").remove();c.addClass("fancy-background").append(g);for(i=0;i<p;i++){var s=Math.floor(Math.random()*(b-m+1)+m),v=(100-s)/2,o=$("<div>").attr("class","fancy-line").css({position:"absolute",width:h+"px",height:s+"%",left:d+(h*i)+(d*i)+"px",top:-(g.height()*(s/100))+"px",borderRadius:"0px"});if(a){var t=Math.floor(Math.random()*(a.length-1));o.css("background-color",a[t])}o.appendTo(g)}var r=g.find(".fancy-line"),u=0;r.each(function(){var w=$(this).css("top"),y=Math.floor(Math.random()*(p)),A=$(this),x=(f*1000),z=Math.floor(Math.random()*(5)+1),B=Math.floor(Math.random()*(g.height()-A.height()));if(z==2){A.css("top",B+"px");j(A)}setTimeout(function(){j(A);setInterval(function(){j(A)},x)},u*1000);u=Math.floor(Math.random()*f)})}function j(o){o.animate({top:g.height()},f*1000,"linear",function(){o.css("top",-o.height()+"px")})}k();$(window).on("resize",function(){k()})}(function(a){a.fn.fancyBackground=function(b){var d=a(this),c=a.extend({lines:false,lineWidth:10,minHeightPCT:40,maxHeightPCT:80,spaceGutter:false,duration:30},b);fancyBackground(d,c.lines,c.lineWidth,c.minHeightPCT,c.maxHeightPCT,c.spaceGutter,c.duration,c.colors)}})(jQuery);